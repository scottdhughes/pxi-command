name = "pxi-api"
main = "api.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "pxi-db"
database_id = "2254a52c-11b6-40a6-8881-ef6880f70d21"

# Vectorize for market embeddings
[[vectorize]]
binding = "VECTORIZE"
index_name = "pxi-embeddings"

# Workers AI
[ai]
binding = "AI"

# KV for ML models
[[kv_namespaces]]
binding = "ML_MODELS"
id = "88901ff0216a484eb81b8004be0f5aea"

# Cron Triggers - Disabled (using GitHub Actions instead due to Yahoo API blocking Workers)
# [triggers]
# crons = ["0 6 * * *"]
